
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Google Merchant Center Product Feed Validator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">G</div>
      <div class="titles">
        <h1>Google Merchant Center Product Feed Validator</h1>
        <p class="tagline">Validate your feed against US/English GMC rules. Exact header names required. Same UI, better checks.</p>
      </div>
    </div>
    <nav class="top-links">
      <a href="#spec">Spec</a>
      <a href="#samples">Samples</a>
      <a href="https://support.google.com/merchants/answer/7052112" target="_blank" rel="noopener">GMC Docs</a>
    </nav>
  </header>

  <main class="container">
    <section class="intro info-card">
      <h2>Why this matters</h2>
      <p>Clean product data powers both paid & free listings, improves match quality, and reduces disapprovals that suppress visibility. This validator enforces GMC-required attributes as <strong>Errors</strong>, important optional fields as <strong>Warnings</strong>, and growth ideas as <strong>Opportunities</strong>.</p>
      <ul class="meta-list">
        <li>Headers must match GMC attribute names exactly</li>
        <li>Profiles: General, Apparel (US), Local Inventory (US)</li>
        <li>Inputs: CSV / JSON (arrays or {"items":[]})</li>
      </ul>
    </section>

    <div class="tabs">
      <button class="tab active">Validate CSV</button>
      <button class="tab">Validate JSON</button>
      <button class="tab" id="spec">Spec & Guidance</button>
    </div>

    <section class="panel">
      <div class="controls">
        <label>Profile:
          <select class="profile-select">
            <option value="general">General</option>
            <option value="apparel">Apparel (US)</option>
            <option value="local_inventory">Local Inventory (US)</option>
          </select>
        </label>
      </div>
      <form id="csvForm" class="uploader">
        <input id="csvFile" type="file" accept=".csv" />
        <button type="submit">Validate CSV</button>
      </form>

      <form id="jsonForm" class="uploader">
        <input id="jsonFile" type="file" accept=".json,.txt,.ndjson" />
        <button type="submit">Validate JSON</button>
      </form>

      <div class="results">
        <h3>Errors</h3>
        <div id="results-errors" class="issues"></div>

        <h3>Warnings</h3>
        <div id="results-warnings" class="issues"></div>

        <h3>Opportunities & Info</h3>
        <div id="results-opps" class="issues"></div>
      </div>
    </section>

    <section class="panel">
      <h3>Specs (US/English)</h3>

      <button class="spec-toggle" data-target="#spec-basic">Basic product data</button>
      <div id="spec-basic" class="spec-body">
        <p><strong>Required:</strong> id, title, description, link, image_link, availability, price.</p>
        <ul>
          <li>title ≤ 150 chars; description ≤ 5000.</li>
          <li>link/image_link must be http(s) URLs.</li>
          <li>availability ∈ {in_stock, out_of_stock, preorder, backorder}.</li>
          <li>price format: <code>15.00 USD</code> (ISO-4217).</li>
        </ul>
      </div>

      <button class="spec-toggle" data-target="#spec-identifiers">Product identifiers</button>
      <div id="spec-identifiers" class="spec-body">
        <p>If <code>identifier_exists</code> ≠ <code>no</code>, submit <strong>gtin</strong> or (<strong>brand</strong> + <strong>mpn</strong>). GTINs must pass GS1 checksum.</p>
      </div>

      <button class="spec-toggle" data-target="#spec-apparel">Apparel (US)</button>
      <div id="spec-apparel" class="spec-body">
        <p><strong>Required when profile = Apparel:</strong> item_group_id, color, gender, age_group, size. Variants in a group should differ by color/size/material/pattern/age_group/gender.</p>
      </div>

      <button class="spec-toggle" data-target="#spec-local">Local Inventory (US)</button>
      <div id="spec-local" class="spec-body">
        <p><strong>Required when profile = Local Inventory:</strong> id, store_code, price, availability. Recommended: quantity, pickup_method, pickup_sla.</p>
      </div>

      <button class="spec-toggle" data-target="#spec-shipping">Shipping & Pricing details</button>
      <div id="spec-shipping" class="spec-body">
        <ul>
          <li><code>sale_price</code> requires same format as price; optional <code>sale_price_effective_date</code> must be ISO8601 start/end.</li>
          <li>Unit pricing: <code>unit_pricing_measure</code> and <code>unit_pricing_base_measure</code> validated for units and integers.</li>
          <li>Shipping dims/weight format: <code>&lt;number&gt; &lt;unit&gt;</code> with units in, cm, lb, oz, g, kg.</li>
        </ul>
      </div>
    </section>

    <section id="samples" class="panel">
      <h3>Sample files</h3>
      <ul>
        <li><a href="samples/gmc-valid-general.csv" download>gmc-valid-general.csv</a></li>
        <li><a href="samples/gmc-apparel-us.csv" download>gmc-apparel-us.csv</a></li>
        <li><a href="samples/gmc-local-inventory.csv" download>gmc-local-inventory.csv</a></li>
        <li><a href="samples/gmc-broken.csv" download>gmc-broken.csv</a></li>
        <li><a href="samples/gmc-valid.json" download>gmc-valid.json</a></li>
      </ul>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
